<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Defuse the BOM</title>
    </head>
    <body>

        <h2 id="message">This BOM will self destruct in <span id="timer">5</span> seconds...</h2>
        <button id="defuser">Defuse the BOMB</button>
        <div id="img" style="height:700px;width:700px;"></div>

        <script>
            (function () {
                "use strict";

                let detonationTimer = 5;

                // TODO: This function needs to be called once every second

                function updateTimer() {
                    if (detonationTimer == 0) {
                        //alert('EXTERMINATE!');
                        let msg = document.getElementById("message");
                        msg.style.display = "none";
                        let btn = document.getElementById("defuser");
                        btn.style.display = "none";
                        let div1 = document.getElementById("img");
                        div1.style.background = ("url('cover/bomb.jpeg')");

                        //document.body.style.backgroundImage = "url('cover/bomb.jpeg')";

                    } else if (detonationTimer > 0) {
                        document.getElementById('timer').innerHTML = detonationTimer;
                    }
                    detonationTimer--;
                }

                let updateTimerVar = setInterval(updateTimer, 1000);

                // TODO: When this function runs, it needs to
                // cancel the interval/timeout for updateTimer()
                function defuseTheBOM() {
                    clearInterval(updateTimerVar);
                    document.getElementById("message").innerHTML = "No worries! I am here ü¶∏üèª‚Äç‚ôÄÔ∏è";
                    let btn = document.getElementById("defuser");
                    btn.style.display = "none";
                    let div1 = document.getElementById("img");
                    div1.style.background = ("url('cover/marvel.jpeg')");
                    //document.body.style.backgroundImage = "url('cover/marvel.jpeg')";
                }

                // Don't modify anything below this line!
                //
                // This causes the defuseTheBOM() function to be called
                // when the "defuser" button is clicked.
                // We will learn about events in the DOM lessons
                var defuser = document.getElementById('defuser');
                defuser.addEventListener('click', defuseTheBOM);
            })();
        </script>
    </body>
</html>